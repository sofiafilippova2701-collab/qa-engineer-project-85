---
- summary: |
    Проверка входа пользователя с существующими логином и паролем
  requirement: |
    При верном вводе логина и пароля пользователь должен успешно войти в систему и быть перенаправлен на главную страницу
  prerequisites: |
    Пользователь зарегистрирован в системе
    Открыта главная страница сайта
  test-data: |
    Логин = testuser
    Пароль = correctpassword123
  steps:
    - На главной странице найти и нажать кнопку «Войти» или ссылку «Уже есть аккаунт?»
    - Убедиться, что произошёл переход на страницу авторизации
    - На странице авторизации в поле «Логин» ввести значение из test-data
    - В поле «Пароль» ввести значение из test-data
    - Нажать кнопку «Войти»
  expected-result: |
    Пользователь перенаправляется на главную страницу
    В шапке отображается приветствие с именем пользователя (например, «Привет, testuser»)
    Сессия создана и активна
    Кнопки «Войти» и «Регистрация» больше не отображаются (заменены на профиль)
- summary: |
    Проверка входа пользователя с существующими логином и паролем
  requirement: |
    При верном вводе логина и пароля пользователь должен успешно войти в систему и быть перенаправлен на главную страницу
  prerequisites: |
    Пользователь зарегистрирован в системе
    Открыта страница авторизации
  test-data: |
    Логин = testuser
    Пароль = correctpassword123
  steps:
    - На странице авторизации в поле «Логин» ввести значение из test-data
    - В поле «Пароль» ввести значение из test-data
    - Нажать кнопку «Войти»
  expected-result: |
    Пользователь перенаправляется на главную страницу
    В шапке отображается приветствие с именем пользователя
    Сессия создана и активна

- summary: |
    Проверка входа с несуществующими учетными данными
  requirement: |
    При вводе несуществующего логина или пароля система должна отобразить сообщение об ошибке
  prerequisites: |
    Открыта страница авторизации
  test-data: |
    Логин = nonexistent
    Пароль = wrongpass
  steps:
    - На странице авторизации в поле «Логин» ввести значение из test-data
    - В поле «Пароль» ввести значение из test-data
    - Нажать кнопку «Войти»
  expected-result: |
    Пользователь остается на странице авторизации
    Отображается понятное сообщение об ошибке: «Неверный логин или пароль»
    Форма очищается не полностью (логин может сохраняться)

- summary: |
    Проверка начала соревнования в реальном времени
  requirement: |
    Два авторизованных пользователя могут начать соревнование и видеть процесс написания кода друг друга
  prerequisites: |
    Два пользователя авторизованы в разных браузерах или устройствах
    Оба находятся на главной странице
  test-data: |
    Задача = FizzBuzz
  steps:
    - Первый пользователь нажимает кнопку «Играть с соперником»
    - Система ищет соперника и соединяет двух пользователей
    - Оба пользователя видят одну и ту же задачу
    - Один из пользователей начинает вводить код
  expected-result: |
    Второй пользователь видит ввод кода в реальном времени с задержкой не более 500 мс
    Статус игры — «Идет соревнование»
    Оба могут редактировать свой код независимо

- summary: |
    Проверка игры с ботом
  requirement: |
    Пользователь может сыграть с ботом, выбрав уровень сложности
  prerequisites: |
    Пользователь авторизован
    Находится на главной странице
  test-data: |
    Уровень сложности = Легкий
  steps:
    - Пользователь нажимает кнопку «Играть с ботом»
    - Выбирает уровень сложности «Легкий»
    - Начинает писать код
  expected-result: |
    Пользователь получает задачу
    Бот начинает «писать» код в своем окне
    Код бота появляется с реалистичной задержкой
    По завершении проверки результаты отображаются

- summary: |
    Проверка приглашения друга по ссылке
  requirement: |
    Пользователь может создать приватную игру и пригласить друга по ссылке
  prerequisites: |
    Пользователь авторизован
    Находится на главной странице
  test-data: |
    Ссылка = https://codebattle.hexlet.io/games/invite/abc123
  steps:
    - Пользователь нажимает «Играть с другом»
    - Копирует сгенерированную ссылку
    - Открывает ссылку в другом браузере или передает другу
    - Второй пользователь переходит по ссылке и присоединяется
  expected-result: |
    Второй пользователь успешно подключается к игре
    Оба видают интерфейс соревнования
    Игра начинается автоматически после подключения

- summary: |
    Проверка отображения рейтинга пользователя
  requirement: |
    Результаты игр сохраняются, и формируется персональный рейтинг пользователя
  prerequisites: |
    Пользователь сыграл не менее одной игры
    Авторизован
  test-data: |
    Количество игр = 1
    Результат = Победа
  steps:
    - Пользователь переходит на страницу «Рейтинг»
  expected-result: |
    Отображается таблица с пользователями
    Пользователь видит себя в списке
    Его количество побед и уровень отражают последнюю игру

- summary: |
    Проверка адаптивности интерфейса на мобильном устройстве
  requirement: |
    Сайт должен быть удобен в использовании на мобильных устройствах
  prerequisites: |
    Открыта страница сайта на мобильном устройстве или в мобильном режиме браузера
  test-data: |
    Устройство = смартфон (разрешение 375x812)
  steps:
    - Открыть главную страницу в мобильном браузере
    - Прокрутить страницу вниз
    - Нажать кнопку «Играть»
  expected-result: |
    Элементы интерфейса отображаются корректно, без наложений
    Кнопки удобно нажимать пальцем
    Текст читаем без масштабирования
    Верстка не ломается при повороте экрана

- summary: |
    Проверка проверки решения задачи
  requirement: |
    Система должна проверить корректность решения и определить победителя
  prerequisites: |
    Два пользователя начали игру
  test-data: |
    Задача = Reverse String
    Код одного пользователя = правильный
    Код второго = с ошибкой
  steps:
    - Оба пользователя отправляют решение
  expected-result: |
    Система запускает тесты для каждого решения
    Пользователь с правильным решением объявляется победителем
    Проигравшему показываются тесты, которые не прошли
    Игра завершается, результаты сохраняются
